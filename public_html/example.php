<?php
//echo "Test";
//phpinfo();
//echo sha1("hanoi123");
$html = '
"<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!--/*
  *
  * Revive Adserver Asynchronous JS Tag
  * - Generated with Revive Adserver v4.0.2
  *
  */-->

<ins data-revive-zoneid="2" data-revive-id="448dca11d18d593d7fe415f31b023e33"></ins>
<script async src="//vp9adserver.tk/www/delivery/asyncjs.php"></script>
<!--/*
  *
  * Revive Adserver Asynchronous JS Tag
  * - Generated with Revive Adserver v4.0.2
  *
  */-->



<!--/*
  *
  * Revive Adserver Asynchronous JS Tag
  * - Generated with Revive Adserver v4.0.2
  *
  */-->

<ins data-revive-zoneid="3" data-revive-id="02d68351f87ab82637cff9095b30f695"></ins>
<script async src="//adserver.local/www/delivery/asyncjs.php"></script>

<ins data-revive-zoneid="2" data-revive-id="02d68351f87ab82637cff9095b30f695"></ins>
<script async src="//adserver.local/www/delivery/asyncjs.php"></script>
<br>
1<br>
<p class="Normal" style="margin: 0px 0px 1em; padding: 0px; line-height: 18px; text-rendering: geometricPrecision; color: #333333; font-family: arial; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;">Ảnh r&ograve; rỉ do<span class="Apple-converted-space">&nbsp;</span><em style="margin: 0px; padding: 0px;">TrustedReviews</em><span class="Apple-converted-space">&nbsp;</span>đăng tải cho thấy iPhone 8 đang được đ&oacute;ng trong th&ugrave;ng đặt tại Foxconn, nh&agrave; m&aacute;y gia c&ocirc;ng c&aacute;c thiết bị cho Apple. Th&ocirc;ng tin mới cũng h&eacute; lộ những chi tiết đang được quan t&acirc;m về model n&agrave;y.</p>
<table class="tplCaption" style="margin: 0px auto 10px; padding: 0px; max-width: 100%; color: #333333; font-family: arial; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial; width: 500px;" border="0" cellspacing="0" cellpadding="3" align="center">
<tbody style="margin: 0px; padding: 0px;">
<tr style="margin: 0px; padding: 0px;">
<td style="margin: 0px; padding: 0px; line-height: 0;"><img style="margin: 0px; padding: 0px; line-height: 0; border: 0px; font-size: 0px; max-width: 100%;" src="https://i-sohoa.vnecdn.net/2017/08/08/iphone-8-foxconn-6997-1502154075.jpg" alt="iphone-8-lan-dau-lo-anh-tai-nha-may" data-natural-width="500" data-width="500" data-pwidth="500" /></td>
</tr>
<tr style="margin: 0px; padding: 0px;">
<td style="margin: 0px; padding: 0px; line-height: 0;">
<p class="Image" style="margin: 0px; padding: 10px; line-height: normal; text-rendering: geometricPrecision; font-style: normal; font-variant: normal; font-weight: 400; font-stretch: normal; font-size: 12px; font-family: arial; color: #333333; background: #f5f5f5;">Ảnh được cho l&agrave; iPhone 8 tại nh&agrave; m&aacute;y Foxconn.</p>
</td>
</tr>
</tbody>
</table>
<p class="Normal" style="margin: 0px 0px 1em; padding: 0px; line-height: 18px; text-rendering: geometricPrecision; color: #333333; font-family: arial; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;">Theo bức h&igrave;nh độ ph&acirc;n giải thấp tr&ecirc;n, iPhone 8 sẽ c&oacute; cụm camera k&eacute;p đặt dọc tương tự c&aacute;c tin đồn thời gian gần đ&acirc;y. Đ&aacute;ng ch&uacute; &yacute;, thiết bị sẽ được t&iacute;ch hợp cảm biến v&acirc;n tay ở mặt lưng, ph&iacute;a dưới logo Apple.</p>
<p class="Normal" style="margin: 0px 0px 1em; padding: 0px; line-height: 18px; text-rendering: geometricPrecision; color: #333333; font-family: arial; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;">C&oacute; nhiều th&ocirc;ng tin kh&aacute;c nhau về c&ocirc;ng nghệ Touch ID tr&ecirc;n iPhone 8. Ban đầu, smartphone mới của Apple được đồn t&iacute;ch hợp cảm biến v&acirc;n tay dưới m&agrave;n h&igrave;nh. Tuy nhi&ecirc;n,&nbsp;<em style="margin: 0px; padding: 0px;">Forbes</em><span class="Apple-converted-space">&nbsp;</span>cho rằng n&oacute; sẽ được đặt ở ph&iacute;m Home do n&uacute;t bấm n&agrave;y to bất thường so với c&aacute;c mẫu iPhone hiện nay.</p>
<p class="Normal" style="margin: 0px 0px 1em; padding: 0px; line-height: 18px; text-rendering: geometricPrecision; color: #333333; font-family: arial; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;">Cũng xuất hiện tin đồn n&oacute;i Apple sẽ chuyển cảm biến v&acirc;n tay ra mặt sau thiết bị, giống như rất nhiều smartphone kh&aacute;c tr&ecirc;n thị trường hiện nay. Trong c&aacute;c khả năng, đ&acirc;y l&agrave; trường hợp g&acirc;y thất vọng nhất cho người d&ugrave;ng bởi t&iacute;nh thẩm mỹ kh&ocirc;ng cao v&agrave; kh&ocirc;ng tạo sự đột ph&aacute; như mong đợi.</p>
<p class="Normal" style="margin: 0px 0px 1em; padding: 0px; line-height: 18px; text-rendering: geometricPrecision; color: #333333; font-family: arial; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;">Sự thay đổi lớn nhất tr&ecirc;n iPhone 8 phải kể đến m&agrave;n h&igrave;nh OLED tr&agrave;n viền m&agrave; hầu hết c&aacute;c nguồn tin đều x&aacute;c nhận. Tuy nhi&ecirc;n, n&oacute; cũng k&eacute;o gi&aacute; của sản phẩm l&ecirc;n cao, ở mức tr&ecirc;n 1.000 USD. Ngo&agrave;i ra, iPhone 8 cũng sẽ xuất xưởng với số lượng hạn chế v&agrave; c&oacute; thể b&aacute;n muộn hơn so với lịch tr&igrave;nh h&agrave;ng năm.</p>
<table class="tplCaption" style="margin: 0px auto 10px; padding: 0px; max-width: 100%; color: #333333; font-family: arial; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial; width: 500px;" border="0" cellspacing="0" cellpadding="3" align="center">
<tbody style="margin: 0px; padding: 0px;">
<tr style="margin: 0px; padding: 0px;">
<td style="margin: 0px; padding: 0px; line-height: 0;"><img style="margin: 0px; padding: 0px; line-height: 0; border: 0px; font-size: 0px; max-width: 100%;" src="https://i-sohoa.vnecdn.net/2017/08/08/iPhone-7s-1-5574-1502071447-7080-1502154075.jpg" alt="iphone-8-lan-dau-lo-anh-tai-nha-may-1" data-natural-width="500" data-width="500" data-pwidth="500" /></td>
</tr>
<tr style="margin: 0px; padding: 0px;">
<td style="margin: 0px; padding: 0px; line-height: 0;">
<p class="Image" style="margin: 0px; padding: 10px; line-height: normal; text-rendering: geometricPrecision; font-style: normal; font-variant: normal; font-weight: 400; font-stretch: normal; font-size: 12px; font-family: arial; color: #333333; background: #f5f5f5;">Ảnh được cho l&agrave; iPhone 7s Plus với mặt lưng k&iacute;nh.</p>
</td>
</tr>
</tbody>
</table>
<p class="Normal" style="margin: 0px 0px 1em; padding: 0px; line-height: 18px; text-rendering: geometricPrecision; color: #333333; font-family: arial; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;">Ngo&agrave;i iPhone 8, Apple được cho l&agrave; sẽ giới thiệu bản n&acirc;ng cấp cho model hiện nay với t&ecirc;n gọi iPhone 7s v&agrave; 7s Plus. Hai thiết bị n&agrave;y sẽ c&oacute; mặt sau bằng k&iacute;nh thay v&igrave; vỏ nh&ocirc;m nguy&ecirc;n khối, t&iacute;ch hợp sạc kh&ocirc;ng d&acirc;y v&agrave; ngoại h&igrave;nh gần như kh&ocirc;ng đổi.</p>
<p class="Normal" style="margin: 0px 0px 1em; padding: 0px; line-height: 18px; text-rendering: geometricPrecision; color: #333333; font-family: arial; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff; text-decoration-style: initial; text-decoration-color: initial;">Apple sẽ giới thiệu cả ba điện thoại mới tại sự kiện th&aacute;ng 9, trong đ&oacute; iPhone 7s v&agrave; 7s Plus được l&ecirc;n kệ v&agrave;i tuần sau đ&oacute;, c&ograve;n iPhone 8 phải đến th&aacute;ng 10 hoặc th&aacute;ng 11.</p>"';
//$link = mysql_connect("localhost","root","");

function html2text($html)
{
    $tags = array (
    0 => '~<h[123][^>]+>~si',
    1 => '~<h[456][^>]+>~si',
    2 => '~<table[^>]+>~si',
    3 => '~<tr[^>]+>~si',
    4 => '~<li[^>]+>~si',
    5 => '~<br[^>]+>~si',
    6 => '~<p[^>]+>~si',
    7 => '~<div[^>]+>~si',
    );
    $html = preg_replace($tags,"\n",$html);
    $html = preg_replace('~</t(d|h)>\s*<t(d|h)[^>]+>~si',' - ',$html);
    $html = preg_replace('~<[^>]+>~s','',$html);
    // reducing spaces
    $html = preg_replace('~ +~s',' ',$html);
    $html = preg_replace('~^\s+~m','',$html);
    $html = preg_replace('~\s+$~m','',$html);
    // reducing newlines
    $html = preg_replace('~\n+~s',"\n",$html);
    $html = str_replace("\n"," ",$html);
	$html = str_replace("\n<br>"," ",$html);
	$html = str_replace("\n<br/>"," ",$html);
	$html = str_replace("\n<p>"," ",$html);
	$html = str_replace("  "," ",$html);
	$html = str_replace("'","",$html);
	$html = str_replace("\"","",$html);
	$html = str_replace("<br>"," ",$html);
	$html = str_replace("<br/>"," ",$html);
	$html = str_replace("<p>"," ",$html);
	$html = str_replace("</p>"," ",$html);	
    $string = explode(" ", $html);
		$max = count($string);
		if ($max<1000) return $html;
		$result = '';
		for ($i=0; $i<1000 && $i<$max; $i++) {	
			if (is_string($string[$i]) && strlen($string[$i])>2)	{ 	
				$st = trim($string[$i]);
				$result.= " ".$st;
			}
		}
		$result = trim($result)."...";
		return $result;
    //return $html;
}

$html = '24 Bphone thế hệ đầu ti&ecirc;n tr&igrave;nh l&agrave;ng v&agrave;o 2015 mặc d&ugrave; kh&ocirc;ng th&agrave;nh c&ocirc;ng nhưng đ&atilde; tạo dấu ấn cho Bkav tr&ecirc;n chặng đường khẳng định vị thế của sản phẩm &ldquo;made in Vietnam&rdquo; tr&ecirc;n thị trường smartphone đầy khắc nghiệt v&agrave; đ&agrave;o thải cực nhanh ch&oacute;ng. CEO của Bkav, &ocirc;ng Nguyễn Tử Quảng cũng đ&atilde; phải thừa nhận rằng &ldquo;chưa lường hết được kh&oacute; khăn&rdquo;. Nhấn mạnh Bphone thế hệ mới được &ldquo;thiết kế bởi Bkav v&agrave; sản xuất tại Việt Nam&rdquo;, &ocirc;ng Quảng rất tự tin khẳng định &ldquo;kh&ocirc;ng c&oacute; sản phẩm n&agrave;o tr&ecirc;n thị trường c&oacute; sự trau chuốt v&agrave; tỉ mỉ như BPhone 2017&rdquo;, đ&uacute;ng phong c&aacute;ch &ldquo;Chất&rdquo; của ng&agrave;y ra mắt. Chiếc smartphone n&agrave;y được trang bị c&ocirc;ng nghệ ổn định h&igrave;nh ảnh quang học (OIS) v&agrave; c&ocirc;ng nghệ AI Camera m&agrave; theo Bkav l&agrave; đầu ti&ecirc;n tr&ecirc;n thế giới. Ngo&agrave;i ra, Bphone 2017 c&ograve;n c&oacute; t&iacute;nh năng kh&aacute;ng nước, kh&aacute;ng bụi, điểm hiệu năng vượt trội so với c&aacute;c mẫu smartphone cao cấp kh&aacute;c như iPhone 7 Plus hay Samsung Galaxy S8. Theo c&ocirc;ng bố của Bkav, BPhone 2017 c&oacute; gi&aacute; b&aacute;n 9.789.000 đồng, đ&atilde; bao gồm VAT.';
$html = html_entity_decode($html, ENT_QUOTES, "utf-8");

echo $html;
?>