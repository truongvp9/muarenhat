
<script src="/js/jquery.validate.js" type="text/javascript"></script>

<style type="text/css">
	pre { text-align: left; }
</style>

<script id="register" type="text/javascript">
$(document).ready(function() {
	// validate signup form on keyup and submit
	var validator = $("#signupform").validate({
		rules: {
			username: {
				required: true,
				minlength: 2,
				remote: "/register/checkuser"
			},
			password: {
				required: true,
				minlength: 5
			},
			password_confirm: {
				required: true,
				minlength: 5,
				equalTo: "#password"
			},
			fullname: "required",
			email: {
				required: true,
				remote: "/register/checkemail"
			}
		},
		messages: {
			username: {
				required: "Hãy nhập vào tên truy nhập",
				minlength: jQuery.format("Tên truy nhập ít nhất {0} ký tự"),
				remote: jQuery.format("{0} đã được đăng ký, bạn hãy chọn tên truy nhập khác!")
			},
			password: {
				required: "Hãy nhập vào mật khẩu",
				minlength: jQuery.format("Mật khẩu ít nhất {0} ký tự")
			},
			password_confirm: {
				required: "Hãy xác nhận mật khẩu",
				minlength: jQuery.format("Xác nhận mật khẩu ít nhất {0} ký tự"),
				equalTo: "Xác nhận mật khẩu chưa đúng"
			},
			fullname: "Hãy nhập vào tên",
			email: {
				required: "Hãy nhập vào email",
				remote: jQuery.format("{0} đã được đăng ký, bạn hãy đăng ký bằng email khác!")
			}
		},	
		// specifying a submitHandler prevents the default submit, good for the demo
		submitHandler: function() {
			signupform.submit();
		},
		// set this class to error-labels to indicate valid fields
		success: function(label) {
			// set &nbsp; as text for IE
			label.html("&nbsp;").addClass("checked");
		}
	});

});
</script>
   <div class="registerfrm">        
      		<form id="signupform" name="signupform" autocomplete="off" method="post" action="">
	  		  <table>
	  		  <tr>
	  		  <td colspan="3" align=center><h3>Đăng ký thành viên</h3></td>
	  		  </tr>
	  		  <tr>
	  			<td class="label"><label id="lusername" for="username">Tên truy nhập</label></td>
	  			<td class="field"><input id="username" name="username" type="text" value="<?php echo $login;?>" maxlength="50" /></td>
	  			<td class="status"></td>
	  		  </tr>
	  		  <tr>
	  			<td class="label"><label id="lpassword" for="password">Mật khẩu</label></td>
	  			<td class="field"><input id="password" name="password" type="password" maxlength="50" value="<?php echo $password;?>" /></td>
	  			<td class="status"></td>
	  		  </tr>
	  		  <tr>
	  			<td class="label"><label id="lpassword_confirm" for="password_confirm">Xác nhận mật khẩu</label></td>
	  			<td class="field"><input id="password_confirm" name="password_confirm" type="password" maxlength="50" value="<?php echo $password_confirm;?>" /></td>
	  			<td class="status"></td>
	  		  </tr>
	  		  <tr>
	  		  	<td class="label"><label id="lfullname" for="fullname">Họ và tên</label></td>
	  		  	<td class="field"><input id="fullname" name="fullname" type="text" value="<?php echo $fullname;?>" maxlength="100" /></td>
	  		  	<td class="status"></td>
	  		  </tr>
	  		  <tr>
	  			<td class="label"><label id="lemail" for="email">Email</label></td>
	  			<td class="field"><input id="email" name="email" type="text" value="<?php echo $email;?>" maxlength="150" /></td>
	  			<td class="status"></td>
	  		  </tr>
	  		  <tr>
	  			<td class="label"><label id="lsignupsubmit" for="signupsubmit"></label></td>
	  			<td class="field" colspan="2">
	            <input id="signupsubmit" name="signup" type="submit" value="Đăng ký" class="button" />
	  			</td>
	  		  </tr>
	  		  </table>
	  		  <input type="hidden" name="captcha" value="<?php echo sha1('muaban123');?>">
          </form>
      </div>

<script type="text/javascript">
$(document).ready(function() {
	var serverscript;
	$.get("users.phps", function(response) {
		serverscript = $("<pre>").hide().html( response ).appendTo("body");
	})
	
});
</script>
